(game "Chatrang (Sassanian)"
    <Variant>
)

//------------------------------------------------------------------------------

(option "Variant" <Variant> args:{ <variant> }
    {
    (item "Chatrang (Sassanian) (Ludii 1)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (moveAgain)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Hop Orthogonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Win)
                )
                
                (if 
                    (<= 
                        (count Pieces Next)
                    1)
                    
                    (result Next Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 1) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 2)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (moveAgain)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "BishopnoCross" Each 
                (move Hop Diagonal 
                    (between if:True)
                    
                    (to if:
                        (or 
                            (is Empty 
                                (to)
                            )
                            
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "BishopnoCross1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "BishopnoCross2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"D8")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (= 
                        (count Pieces Next)
                    1)
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Next)
                    
                    (result Mover Win)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 2) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 3)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Hop Orthogonal 
                    (between 
                        (exact 1)
                    if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                )
            )
            
            (piece "Queen" 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Elephant1" { "A1" "H1"}
                )
                
                (place "Rook1" { "B1" "G1"}
                )
                
                (place "Knight1" { "C1" "F1"}
                )
                
                (place "Queen1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Elephant2" { "A8" "H8"}
                )
                
                (place "Rook2" { "B8" "G8"}
                )
                
                (place "Knight2" { "C8" "F8"}
                )
                
                (place "Queen2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (= 
                        (count Pieces Next)
                    1)
                    
                    (result Mover Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 3) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 4)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (moveAgain)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" Each 
                (move Hop Orthogonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" Each 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"D8")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 4) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 5)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" 
                (or 
                    (move Step Diagonal 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (if 
                        (not 
                            (= 1 
                                (state at:
                                    (from)
                                )
                            )
                        )
                        
                        (move Hop 
                            (between if:True)
                            
                            (to if:
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (then 
                        (if 
                            (not 
                                (= 1 
                                    (state at:
                                        (last To)
                                    )
                                )
                            )
                            
                            (set State at:
                                (last To)
                            1)
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Hop Diagonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "FerznoCross")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Win)
                )
                
                (if 
                    (<= 
                        (count Pieces Next)
                    1)
                    
                    (result Next Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 5) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 6)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" 
                (or 
                    (move Slide 
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (move Leap { { F F R F }
                        { F F L F }
                        }
                        
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (if 
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                    
                                    (remove 
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Slide Diagonal 
                    (between if:
                        (or 
                            (is In 
                                (between)
                                
                                (sites Around 
                                    (from)
                                )
                            )
                            
                            (is Empty 
                                (between)
                            )
                        )
                    )
                    
                    (to if:
                        (and 
                            (not 
                                (= 
                                    (what at:
                                        (to)
                                    )
                                    
                                    (id "Elephant" Next)
                                )
                            )
                            
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply if:
                            (not 
                                (is In 
                                    (to)
                                    
                                    (sites Around 
                                        (from)
                                    )
                                )
                            )
                            
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "FerznoCross")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"E8")
                
                (place "KingnoCross2" coord:"D8")
                }
            )
            
            (play 
                (if 
                    (is Prev Mover)
                    
                    (move Promote 
                        (last To)
                        
                        (piece "FerznoCross")
                    Mover)
                    
                    (do 
                        (forEach Piece)
                        ifAfterwards:
                        (not 
                            (is Threatened 
                                (id "KingnoCross" Mover)
                            )
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Win)
                )
                
                (if 
                    (<= 
                        (count Pieces Next)
                    1)
                    
                    (result Next Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 6) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 7)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (dice d:6 from:1 num:1)
            
            (piece "KingnoCross" P1 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" P1 
                (move Step Diagonal 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" P1 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" P1 
                (move Hop Orthogonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" P1 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" P1 
                (or 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Top)
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "FerznoCross")
                            Mover)
                        )
                    )
                )
            )
            
            (piece "KingnoCross" P2 
                (or { 
                    (move Slide Orthogonal 
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (move Leap { { F F R F }
                        { F F L F }
                        }
                        
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (if 
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                    
                                    (remove 
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    
                    (move Hop Orthogonal 
                        (between if:True)
                        
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (if 
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                    
                                    (remove 
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    
                    (move Step Diagonal 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (move Step Diagonal 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (move Step 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                )
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (do 
                    (if 
                        (is Mover P1)
                        
                        (do 
                            (roll)
                            next:
                            (if 
                                (= 
                                    (count Pips)
                                6)
                                
                                (forEach Piece "KingnoCross")
                                
                                (if 
                                    (= 
                                        (count Pips)
                                    5)
                                    
                                    (forEach Piece "FerznoCross")
                                    
                                    (if 
                                        (= 
                                            (count Pips)
                                        4)
                                        
                                        (forEach Piece "Elephant")
                                        
                                        (if 
                                            (= 
                                                (count Pips)
                                            3)
                                            
                                            (forEach Piece "Knight")
                                            
                                            (if 
                                                (= 
                                                    (count Pips)
                                                2)
                                                
                                                (forEach Piece "Rook")
                                                
                                                (forEach Piece "Pawn")
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        
                        (forEach Piece)
                    )
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                            
                            (forEach Piece Next)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and { 
                        (is Mover P2)
                        
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                            
                                            (forEach Piece)
                                        )
                                    )
                                )
                            )
                        )
                        }
                    )
                    
                    (result P2 Win)
                )
                
                (if 
                    (and 
                        (is Mover P1)
                        
                        (no Moves P2)
                    )
                    
                    (result P1 Win)
                )
                
                (if 
                    (and { 
                        (is Mover P1)
                        
                        (is Threatened 
                            (id "KingnoCross" P1)
                        )
                        
                        (no Moves P1)
                        }
                    )
                    
                    (result P2 Win)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 7) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 8)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" 
                (or 
                    (move Slide 
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (move Leap { { F F R F }
                        { F F L F }
                        }
                        
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (if 
                                    (is Enemy 
                                        (who at:
                                            (to)
                                        )
                                    )
                                    
                                    (remove 
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Slide Diagonal 
                    (between if:
                        (or 
                            (is In 
                                (between)
                                
                                (sites Around 
                                    (from)
                                )
                            )
                            
                            (is Empty 
                                (between)
                            )
                        )
                    )
                    
                    (to if:
                        (and 
                            (not 
                                (= 
                                    (what at:
                                        (to)
                                    )
                                    
                                    (id "Elephant" Next)
                                )
                            )
                            
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply if:
                            (not 
                                (is In 
                                    (to)
                                    
                                    (sites Around 
                                        (from)
                                    )
                                )
                            )
                            
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "FerznoCross")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"D8")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 8) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 9)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "KingnoCross" Each 
                (move Step 
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "FerznoCross" 
                (or 
                    (move Step Diagonal 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (if 
                        (not 
                            (= 1 
                                (state at:
                                    (from)
                                )
                            )
                        )
                        
                        (move Hop 
                            (between if:True)
                            
                            (to if:
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (then 
                        (if 
                            (not 
                                (= 1 
                                    (state at:
                                        (last To)
                                    )
                                )
                            )
                            
                            (set State at:
                                (last To)
                            1)
                        )
                    )
                )
            )
            
            (piece "Elephant" 
                (move Hop Diagonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (promote 
                                (last To)
                                
                                (piece "FerznoCross")
                            Mover)
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Elephant1" { "C1" "F1"}
                )
                
                (place "FerznoCross1" coord:"D1")
                
                (place "KingnoCross1" coord:"E1")
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Elephant2" { "C8" "F8"}
                )
                
                (place "FerznoCross2" coord:"D8")
                
                (place "KingnoCross2" coord:"E8")
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "KingnoCross" Mover)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "KingnoCross" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "KingnoCross" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Mover)
                    
                    (result Mover Loss)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 9) ruleset.")
    
    (item "Chatrang (Sassanian) (Ludii 10)" <
        
        (players 2)
        
        (equipment { 
            (board 
                (square 8)
            )
            
            (piece "King" Each 
                (or 
                    (move Step 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (if 
                        (= 1 
                            (state at:
                                (from)
                            )
                        )
                        
                        (or 
                            (move Hop 
                                (between 
                                    (range 1 2)
                                    if:
                                    (not 
                                        (is Enemy 
                                            (who at:
                                                (between)
                                            )
                                        )
                                    )
                                )
                                
                                (to if:
                                    (is Empty 
                                        (to)
                                    )
                                )
                            )
                            
                            (move Leap { { F F R F }
                                { F F L F }
                                }
                                
                                (to if:
                                    (is Empty 
                                        (to)
                                    )
                                )
                            )
                        )
                    )
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            1)
                            
                            (set State at:
                                (last To)
                            0)
                        )
                    )
                )
            )
            
            (piece "Rook" Each 
                (move Slide Orthogonal 
                    (to if:
                        (is Enemy 
                            (who at:
                                (to)
                            )
                        )
                        
                        (apply 
                            (remove 
                                (to)
                            )
                        )
                    )
                )
            )
            
            (piece "Bishop" Each 
                (move Hop Diagonal 
                    (between if:True)
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Knight" Each 
                (move Leap { { F F R F }
                    { F F L F }
                    }
                    
                    (to if:
                        (not 
                            (is Friend 
                                (who at:
                                    (to)
                                )
                            )
                        )
                        
                        (apply 
                            (if 
                                (is Enemy 
                                    (who at:
                                        (to)
                                    )
                                )
                                
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                )
            )
            
            (piece "Queen" Each 
                (or 
                    (move Step Diagonal 
                        (to if:
                            (not 
                                (is Friend 
                                    (who at:
                                        (to)
                                    )
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                        
                        (then 
                            (if 
                                (= 
                                    (state at:
                                        (last To)
                                    )
                                1)
                                
                                (set State at:
                                    (last To)
                                0)
                            )
                        )
                    )
                    
                    (if 
                        (= 1 
                            (state at:
                                (from)
                            )
                        )
                        
                        (move Hop Diagonal 
                            (between if:True)
                            
                            (to if:
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (then 
                        (if 
                            (= 
                                (state at:
                                    (last To)
                                )
                            1)
                            
                            (set State at:
                                (last To)
                            0)
                        )
                    )
                )
            )
            
            (piece "Pawn" Each 
                (or { 
                    (move Step Forward 
                        (to if:
                            (is Empty 
                                (to)
                            )
                        )
                    )
                    
                    (move Step 
                        (directions { FR FL }
                        )
                        
                        (to if:
                            (is Enemy 
                                (who at:
                                    (to)
                                )
                            )
                            
                            (apply 
                                (remove 
                                    (to)
                                )
                            )
                        )
                    )
                    
                    (if 
                        (is In 
                            (from)
                            
                            (sites Start 
                                (piece 
                                    (what at:
                                        (from)
                                    )
                                )
                            )
                        )
                        
                        (move Slide Forward 
                            (between 
                                (exact 2)
                                if:
                                (is Empty 
                                    (between)
                                )
                            )
                            
                            (to if:
                                (is Empty 
                                    (to)
                                )
                            )
                        )
                    )
                    }
                    
                    (then 
                        (if 
                            (is In 
                                (last To)
                                
                                (sites Mover "Promotion")
                            )
                            
                            (and 
                                (promote 
                                    (last To)
                                    
                                    (piece 
                                        (id "Queen" Mover)
                                    )
                                )
                                
                                (set State at:
                                    (last To)
                                1)
                            )
                        )
                    )
                )
            )
            
            (regions "Promotion" P1 
                (sites Top)
            )
            
            (regions "Promotion" P2 
                (sites Bottom)
            )
            }
        )
        
        (rules 
            (start { 
                (place "Pawn1" 
                    (sites Row 1)
                )
                
                (place "Pawn2" 
                    (sites Row 6)
                )
                
                (place "Rook1" { "A1" "H1"}
                )
                
                (place "Knight1" { "B1" "G1"}
                )
                
                (place "Bishop1" { "C1" "F1"}
                )
                
                (place "Queen1" coord:"D1" state:1)
                
                (place "King1" coord:"E1" state:1)
                
                (place "Rook2" { "A8" "H8"}
                )
                
                (place "Knight2" { "B8" "G8"}
                )
                
                (place "Bishop2" { "C8" "F8"}
                )
                
                (place "Queen2" coord:"D8" state:1)
                
                (place "King2" coord:"E8" state:1)
                }
            )
            
            (play 
                (do 
                    (forEach Piece)
                    ifAfterwards:
                    (not 
                        (is Threatened 
                            (id "King" Mover)
                        )
                    )
                    
                    (then 
                        (if 
                            (and 
                                (= 1 
                                    (state at:
                                        (where "King" Next)
                                    )
                                )
                                
                                (is Threatened 
                                    (id "King" Next)
                                )
                            )
                            
                            (set State at:
                                (where "King" Next)
                            0)
                        )
                    )
                )
            )
            
            (end { 
                (if 
                    (and 
                        (is Threatened 
                            (id "King" Next)
                        )
                        
                        (not 
                            (can Move 
                                (do 
                                    (forEach Piece Next)
                                    ifAfterwards:
                                    (not 
                                        (is Threatened 
                                            (id "King" Next)
                                        )
                                    )
                                )
                            )
                        )
                    )
                    
                    (result Mover Win)
                )
                
                (if 
                    (no Moves Next)
                    
                    (result Mover Draw)
                )
                }
            )
        )
        
    > "The Chatrang (Sassanian) (Ludii 10) ruleset.")
    
    (item "Incomplete"
        <
        (players 2) 
        (equipment { 
            (board (square 8))
            [#]
        })
        
        (rules [#])
        >
        "The incomplete ruleset."
    )
    
})

//------------------------------------------------------------------------------

(rulesets {
    
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 1) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 1)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 2) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 2)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 3) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 3)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 4) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 4)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 5) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 5)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 6) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 6)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 7) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 7)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 8) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 8)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 9) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 9)"
    })
    (ruleset "Ruleset/Chatrang (Sassanian) (Ludii 10) (Reconstructed)" {
        "Variant/Chatrang (Sassanian) (Ludii 10)"
    }) 
    
    (ruleset "Ruleset/Historical Information (Incomplete)" {
        "Variant/Incomplete"
    })
    
})

//------------------------------------------------------------------------------

(metadata 
    
    (info
        {
        (description "Chatrang is a game with replacement captures that was played in Sassanian Persia. It was a direct descendant of the game Chaturanga, and a precursor to Shatranj. ")
        (useFor "Ruleset/Historical Information (Incomplete)" (rules "8x8 board. Two players. Replacement capture. Shah (King), Farzin (Ferz), Rukh, Pil (Elephant), Asp (Knight), Piyadak (Pawn) pieces. "))
        (useFor "Ruleset/Historical Information (Incomplete)" (source "DLP Evidence."))
        (useFor "Ruleset/Historical Information (Incomplete)" (id "2036"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 1) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Pawns, Rooks, KingnoCrosses, Elephants, Knights and FerznoCrosses.
                Rules for Pieces:
                Elephants hop orthogonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, move again.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player wins If the number of pieces owned by Player the next player is less than or equal to 1, the next player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 1) (Reconstructed)" (id "4066"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 2) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Pawns, Rooks, KingnoCrosses, BishopnoCrosses, Knights and FerznoCrosses.
                Rules for Pieces:
                BishopnoCrosses hop diagonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, move again.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a BishopnoCross for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a BishopnoCross for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site D8.
                Place a KingnoCross for player two on site E8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the number of pieces owned by Player the next player is equal to 1, the moving player wins If the next player cannot move, the moving player wins.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 2) (Reconstructed)" (id "4067"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 3) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, Rooks, Elephants, Knights, Pawns and Queens.
                Rules for Pieces:
                Elephants hop orthogonal.
                KingnoCrosses remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left.
                Queens remove pieces at to then step diagonal.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Elephant for player one on sites: A1 and H1.
                Place a Rook for player one on sites: B1 and G1.
                Place a Knight for player one on sites: C1 and F1.
                Place a Queen for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Elephant for player two on sites: A8 and H8.
                Place a Rook for player two on sites: B8 and G8.
                Place a Knight for player two on sites: C8 and F8.
                Place a Queen for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the number of pieces owned by Player the next player is equal to 1, the moving player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 3) (Reconstructed)" (id "4068"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 4) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Pawns, Rooks, KingnoCrosses, Elephants, Knights and FerznoCrosses.
                Rules for Pieces:
                Elephants hop orthogonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, move again.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site D8.
                Place a KingnoCross for player two on site E8..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 4) (Reconstructed)" (id "4069"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 5) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, FerznoCrosses, Elephants, Knights, Rooks and Pawns.
                Rules for Pieces:
                Elephants hop diagonal.
                FerznoCrosses remove pieces at to then step diagonal or if not 1 is equal to State at the location of the piece, hop adjacent if not 1 is equal to State at the to location of the last move, set the state of the Cell the to location of the last move to 1.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player wins If the number of pieces owned by Player the next player is less than or equal to 1, the next player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 5) (Reconstructed)" (id "4070"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 6) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, FerznoCrosses, Elephants, Knights, Rooks and Pawns.
                Rules for Pieces:
                Elephants slide from the location of the piece in the diagonal direction through between is in the number of sites within 1 spaces of the location of the piece includeOrigin: false or empty.
                FerznoCrosses slide from the location of the piece in the adjacent direction through [between] is in the set of empty cells or leap a piece to not is a friend.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site E8.
                Place a KingnoCross for player two on site D8..
                Rules: 
                If in the same turn, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross, else move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player wins If the number of pieces owned by Player the next player is less than or equal to 1, the next player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 6) (Reconstructed)" (id "4071"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 7) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling. 
                Player one plays with KingnoCrosses, FerznoCrosses, Knights, Elephants, Rooks and Pawns. Player two plays with KingnoCrosses. The following pieces are shared by all players: Dies with 6 faces valued [1, 2, 3, 4, 5, 6]. Shared plays with Dies with 6 faces valued [1, 2, 3, 4, 5, 6].
                Rules for Pieces:
                Elephants hop orthogonal.
                FerznoCrosses remove pieces at to then step diagonal.
                KingnoCrosses slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells or leap a piece to not is a friend or hop orthogonal or remove pieces at to then step diagonal or remove pieces at to then step diagonal or remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in the top sites of the board, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a KingnoCross for player two on site E8..
                Rules: 
                If 1 is the mover, roll the dice and afterwards if the number of pips owned by Player Shared is equal to 6, move one of your pieces, else if the number of pips owned by Player Shared is equal to 5, move one of your pieces, else if the number of pips owned by Player Shared is equal to 4, move one of your pieces, else if the number of pips owned by Player Shared is equal to 3, move one of your pieces, else if the number of pips owned by Player Shared is equal to 2, move one of your pieces, else move one of your pieces, else move one of your pieces.
                Aim: 
                If 2 is the mover, KingnoCross of the next player is threatened and not can move move one of your pieces, player two wins If 1 is the mover and player two cannot move, player one wins If 1 is the mover, KingnoCross of player one is threatened and player one cannot move, player two wins.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 7) (Reconstructed)" (id "4072"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 8) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, FerznoCrosses, Elephants, Knights, Rooks and Pawns.
                Rules for Pieces:
                Elephants slide from the location of the piece in the diagonal direction through between is in the number of sites within 1 spaces of the location of the piece includeOrigin: false or empty.
                FerznoCrosses slide from the location of the piece in the adjacent direction through [between] is in the set of empty cells or leap a piece to not is a friend.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site D8.
                Place a KingnoCross for player two on site E8..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 8) (Reconstructed)" (id "4073"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 9) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with KingnoCrosses, FerznoCrosses, Elephants, Knights, Rooks and Pawns.
                Rules for Pieces:
                Elephants hop diagonal.
                FerznoCrosses remove pieces at to then step diagonal or if not 1 is equal to State at the location of the piece, hop adjacent if not 1 is equal to State at the to location of the last move, set the state of the Cell the to location of the last move to 1.
                KingnoCrosses if there is an enemy Player at to, remove pieces at to then step adjacent.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in Promotion or Promotion, a piece of the moving player the to location of the last move, this piece can promote into FerznoCross.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Elephant for player one on sites: C1 and F1.
                Place a FerznoCross for player one on site D1.
                Place a KingnoCross for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Elephant for player two on sites: C8 and F8.
                Place a FerznoCross for player two on site D8.
                Place a KingnoCross for player two on site E8..
                Rules: 
                Move one of your pieces.
                Aim: 
                If KingnoCross of the next player is threatened and not can move move one of your pieces, the moving player wins If the moving player cannot move, the moving player loses.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 9) (Reconstructed)" (id "4074"))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 10) (Reconstructed)" (rules "The game Chatrang (Sassanian) is played by two players on a 8x8 rectangle board with square tiling.
                Regions:
                Promotion: the top sites of the board for P1
                Promotion: the bottom sites of the board for P2 
                All players play with Kings, Rooks, Bishops, Knights, Queens and Pawns.
                Rules for Pieces:
                Bishops hop diagonal.
                Kings remove pieces at to then step adjacent or if 1 is equal to State at the location of the piece, hop adjacent or leap a piece to empty if State at the to location of the last move is equal to 1, set the state of the Cell the to location of the last move to 0.
                Knights leap a piece to not is a friend.
                Pawns step forward or remove pieces at to then step forward-right or forward-left or if the location of the piece is in start position, slide from the location of the piece in the forward direction through empty if the to location of the last move is in Promotion or Promotion, a piece of a player the to location of the last move, this piece can promote into  and set the state of the Cell the to location of the last move to 1.
                Queens remove pieces at to then step diagonal then if State at the to location of the last move is equal to 1, set the state of the Cell the to location of the last move to 0 or if 1 is equal to State at the location of the piece, hop diagonal if State at the to location of the last move is equal to 1, set the state of the Cell the to location of the last move to 0.
                Rooks slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells.
                Players take turns moving.
                Setup:
                Place a Pawn for player one at each cell of the 1 row.
                Place a Pawn for player two at each cell of the 6 row.
                Place a Rook for player one on sites: A1 and H1.
                Place a Knight for player one on sites: B1 and G1.
                Place a Bishop for player one on sites: C1 and F1.
                Place a Queen for player one on site D1.
                Place a King for player one on site E1.
                Place a Rook for player two on sites: A8 and H8.
                Place a Knight for player two on sites: B8 and G8.
                Place a Bishop for player two on sites: C8 and F8.
                Place a Queen for player two on site D8.
                Place a King for player two on site E8..
                Rules: 
                Move one of your pieces then if 1 is equal to State at King of the next player is in and King of the next player is threatened, set the state of the Cell King of the next player is in to 0.
                Aim: 
                If King of the next player is threatened and not can move move one of your pieces, the moving player wins If the next player cannot move, it's a draw.
                
        "))
        (useFor "Ruleset/Chatrang (Sassanian) (Ludii 10) (Reconstructed)" (id "4075"))
        (version "1.3.13")
        (classification "board/war/replacement/checkmate/chaturanga/reconstruction/done")
        (credit "Eric Piette")
        (origin "This game was played in Persia, from around 610 to 651.")
        }
    )
    
    (graphics {
        (board Colour Phase0 (colour 223 178 110))
        (board Colour InnerEdges (colour Black))
        (board Colour OuterEdges (colour Black))
    })
    
    (recon {
        (concept "ReplacementCapture" True)
    })
    
)

